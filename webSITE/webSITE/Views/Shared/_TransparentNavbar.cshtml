<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
        const toggleButton = document.getElementById('toggleButton');
        const closeButton = document.getElementById('closeButton');
        const sideMenu = document.getElementById('sideMenu');
        const overlay = document.getElementById('overlay');

        let activeLink1 = "@(ViewData["Active"] ?? "")";
        let navbarTransparant = true;
        let navbarToggled = false;

        const toggleNavbarTransparent = (toggle) => {
            if (toggle === true) {
                $('nav').css({
                    "background": "rgba(255, 255, 255, 0)",
                    "box-shadow": "none"
                });

                $('.navbar-brand img').css({
                    "filter": "invert(100%)"
                });

                $('.navbar-toggler-icon').css({
                    "filter": "invert(100%)"
                });

                $('.nav-link').css({
                    "color": "white"
                });

                $('.nav-link.active').css({
                    "color": "#FDC93B"
                });

                $('.nav-link').hover(
                    function () {
                        $(this).css({
                            "color": "#FDC93B",
                        })
                    },
                    function () {
                        if ($(this).text() != activeLink1) {
                            $(this).css({
                                "color": "white"
                            });
                        }
                    }
                );
            } else {
                $('nav').css({
                    "background": "rgba(255, 255, 255, 1)",
                    "box-shadow": "4px 4px 4px rgba(0, 0, 0, 0.3)"
                });

                $('.navbar-brand img').css({
                    "filter": "invert(0%)"
                });

                $('.navbar-toggler-icon').css({
                    "filter": "invert(0%)"
                });

                $('.nav-link').css({
                    "color": "rgb(21, 21, 100)"
                });

                $('.nav-link.active').css({
                    "color": "#FDC93B"
                });

                $('.nav-link').hover(
                    function () {
                        $(this).css({
                            "color": "#FDC93B",
                        })
                    },
                    function () {
                        if ($(this).text() != activeLink1) {
                            $(this).css({
                                "color": "rgb(21, 21, 100)"
                            })
                        }
                    }
                );
            }
        };

        const checkScrollPosition = () => {
            if (window.scrollY === 0 && navbarToggled === false) {
                navbarTransparant = true;
                toggleNavbarTransparent(true);
            } else {
                navbarTransparant = false;
                toggleNavbarTransparent(false);
            }
        };

        toggleButton.addEventListener('click', function () {
            navbarToggled = !navbarToggled;
            if (navbarToggled === true || window.scrollY > 0) {
                toggleNavbarTransparent(false);
            } else if (navbarToggled === false && window.scrollY === 0) {
                toggleNavbarTransparent(true);
            }
        });

        closeButton.addEventListener('click', function () {
            navbarToggled = false;
            if (window.scrollY === 0) {
                toggleNavbarTransparent(true);
            }
            sideMenu.classList.remove('open');
            overlay.classList.remove('show');
        });

        overlay.addEventListener('click', function () {
            navbarToggled = false;
            if (window.scrollY === 0) {
                toggleNavbarTransparent(true);
            }
            sideMenu.classList.remove('open');
            overlay.classList.remove('show');
        });

        document.addEventListener("scroll", checkScrollPosition);

        $(document).ready(function () {
            $('div#main').css({
                "margin-top": "0rem"
            });

            checkScrollPosition();

            $('.nav-link.active').css({
                "color": "#FDC93B"
            });
        });
    });

</script>
